<div class="starter-template">
  <h1 translate lib="web">sockets</h1>
</div>

<a ng-href="{{ctrl.noderedurl}}" target="nodered">Open Nodered</a>
<form ng-submit="ctrl.submit()" class="form-horizontal" role="form" autocomplete="off" ng-hide="ctrl.showjson==true">
  <section>
    <div class="form-group">
      <div class="col-sm-offset-2 col-sm-10">
        <button type="button" class="btn btn-secondary" ng-click="ctrl.EnsureNoderedInstance()">Create Nodered</button>
        <button type="button" class="btn btn-secondary" ng-click="ctrl.RestartNoderedInstance()">Restart
          Nodered</button>
        <button type="button" class="btn btn-secondary" ng-click="ctrl.DeleteNoderedInstance()">Delete Nodered</button>
        <button type="button" class="btn btn-secondary" ng-click="ctrl.GetNoderedInstance()">Get status</button>
      </div>
    </div>
  </section>
</form>
<section>
  <div class="form-group">
    <label class="col-sm-3 control-label"><span translate lib="web">status</span>: </label>
    <div class="col-sm-9">
      <span ng-show="ctrl.instance==null">unknown/non existent</span>
      <span ng-show="ctrl.instance!=null">{{ ctrl.instance.status.phase }}</span>
    </div>
  </div>
</section>
<section>
  <div class="form-group">
    <label class="col-sm-3 control-label"><span translate lib="web">image</span>: </label>
    <div class="col-sm-9">
      <span ng-show="ctrl.instance==null"></span>
      <span ng-show="ctrl.instance!=null">{{ ctrl.instance.spec.containers[0].image }}</span>
    </div>
  </div>
</section>

<pre>{{ ctrl.messages }}</pre>
<p>If this is your first time creating a NodeRed instance, plaease signout and signin again, to refresh group
  memberships for your user</p>
<p>It can take a few minutes from you order a deletion of NodeRed, til it stops running. If accessing nodered in a
  browser reports 404, you can safely assume it will be gone soon.</p>